<!doctype html>
<html lang="ko">
  <head>
    @@include("_include/_head.html")
    <link rel="stylesheet" type="text/css" href="./assets/css/intro.css" />
  </head>
  <body>
    <div class="wrap intro">
      <!-- container -->
      <div class="container">
        <section class="text-ani">
          <!-- 텍스트 영역 (고정 위치에서 교체) -->
          <div class="text-area">
            <!-- Section 1: 인사 -->
            <div id="section1Text" class="greeting">
              <p>
                <span class="name" id="typedName"></span
                ><span class="cursor" id="cursor">|</span>
                <br class="m-br"/>안녕하세요!
              </p>
              <p class="welcome" id="welcome"></p>
            </div>

            <!-- Section 2: 업데이트 소개 -->
            <div id="section2Text" class="update-text hidden">
              <div class="update-line">
                <span id="line1">이번 업데이트에서</span>
              </div>
              <div class="update-line">
                <span id="line2"
                  >더 <em>편리하고 즐겁게 학습</em> 하실 수 있도록</span
                >
              </div>
              <div class="update-line bold">
                <span id="line3">배움터가 이렇게 달라졌어요</span>
              </div>
            </div>
          </div>
          <!-- 콘텐츠 영역 -->
          <div class="content-area">
            <!-- Cards -->
            <div class="card-list" id="cardsContainer">
              <div class="card" id="card1">
                <div class="card-num">01</div>
                <div class="card-title">
                  <em>나만의 맞춤형 배움터</em>가<br />
                  생겼어요
                </div>
                <div class="card-desc">
                  팀과 관심 키워드를 설정하면 <br />
                  홍길동님께 꼭 맞는 <br />
                  <em>"콘텐츠를 추천"</em>해드려요
                </div>
              </div>
              <div class="card" id="card2">
                <div class="card-num">02</div>
                <div class="card-title">
                  <em>나의 학습을 한 곳</em>에서<br />
                  확인해요
                </div>
                <div class="card-desc">
                  새로 추가된 마이페이지에서 <br />
                  <em>"나의학습현황과 마이클래스"</em>를 <br />
                  한 번에 확인할 수 있어요
                </div>
              </div>
              <div class="card" id="card3">
                <div class="card-num">03</div>
                <div class="card-title">
                  <em>중요한 공지사항</em>도 <br />놓치지 않아요
                </div>
                <div class="card-desc">
                  상단 <em>"알림기능"</em>을 통해<br />새 소식을 빠르게<br />확인할
                  수 있어요
                </div>
              </div>
            </div>
          </div>
          <!-- // content-->
        </section>

        <!-- Section 3: CTA 텍스트 -->
        <div id="section3Text" class="cta-text hidden">
          <!-- 메인 컨테이너 -->
          <div id="mainContainer">
            <div class="text-section" id="ctaBg">
              <p id="ctaLine1">지금부터 <em>나만의 학습으로</em></p>
              <p id="ctaLine2">성장해 볼까요?</p>
            </div>
          </div>
          <!-- 마스크 오버레이 -->
          <div class="mask" id="maskContainer">
            <div class="text-section">
              <p class="mask-text" id="maskLine1">
                계속 <em>성장해 나가는 배움터</em>를
              </p>
              <p class="mask-text" id="maskLine2">지켜봐 주세요!</p>
            </div>
          </div>
          <!-- // 마스크 오버레이-->
          <button
            class="cta-btn"
            id="ctaBtn"
            onclick="location.href = './index.html';"
          >
            약속
            <i class="ico-arrow"></i>
          </button>
        </div>

        <div class="scroll-indicator" id="scrollIndicator">
          <span>Scroll</span>
          <span class="bar"></span>
        </div>
      </div>
      <!-- // container -->
    </div>

    <!-- 전역 설정 및 상태 변수 (외부 스크립트보다 먼저 로드) -->
    <script>
      // 사용자 정보 설정 (여기서 fullName을 변경하면 됩니다)
      const INTRO_CONFIG = {
        fullName: "홍길동 선임연구원님",
        welcomeText:
          "<em>새로워진</em> <em>배움터</em>에 오신 것을 <em>환영합니다</em>",
        typingSpeed: 100, // 타이핑 속도 (ms)
        welcomeCharSpeed: 60, // 환영 메시지 문자 출력 속도 (ms)
      };

      // 전역 상태 변수
      const INTRO_STATE = {
        currentSection: 0,
        typedIndex: 0,
        isScrolling: false,
        isAnimating: false,
        section2AnimDone: false,
        autoScrollTimer: null,
        lastInteractionTime: Date.now(),
      };

      function setUserName(name) {
        INTRO_CONFIG.fullName = name;
      }

      function updateConfig(config) {
        Object.assign(INTRO_CONFIG, config);
      }
    </script>

    <!-- 외부 스크립트 파일 로드 -->
    <script src="./assets/js/intro/animation.js"></script>
    <script src="./assets/js/intro/section.js"></script>
    <script src="./assets/js/intro/events.js"></script>
    <script src="./assets/js/intro/init.js"></script>
  </body>
</html>