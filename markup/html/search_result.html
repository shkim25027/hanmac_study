<!doctype html>
<html lang="ko">
  <head>
    @@include("_include/_head.html")
    <link rel="stylesheet" type="text/css" href="./assets/css/main.css" />
  </head>
  <body>
    <div class="wrap search-result">
      @@include("_include/_header.html")
      <!-- container -->
      <div class="container">
        <div class="search-result-wrap">
          <!-- 페이지 헤더 -->
          <div class="page-header">
            <div class="page-title">
              <h3 class="blind">검색결과</h3>
              <p class="search-summary">
                '<em class="search-keyword">AI 테크</em>'에 대한 검색결과가 <em class="search-count">14</em>건 있습니다.
              </p>
            </div>
          </div>

          <!-- 필터 탭 -->
          <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">
              전체 <span class="count">24</span>
            </button>
            <button class="filter-tab" data-filter="leadership">
              리더십 <span class="count">11</span>
            </button>
            <button class="filter-tab" data-filter="insight">
              인사이트 <span class="count">3</span>
            </button>

          </div>

          <!-- 검색 결과 섹션 -->
          <div class="search-sections">
            <!-- 리더십 섹션 -->
            <section class="content-section" data-section="leadership">
              <div class="section-header">
                <h3 class="section-title">리더십 <span class="section-count">21</span></h3>
                <div class="list-options">
                  <div class="select-wrap">
                    <select class="select-sort" title="정렬">
                    <option>조회수</option>
                    <option selected>업데이트</option>
                    <option>내가본컨텐츠</option>
                    <option>안본컨텐츠</option>
                    </select>
                  </div>
                </div>
              </div>
              <ul class="video-grid">
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb">
                      <img src="./assets/images/video/img_thumb_01.png" alt="" />
                      <div class="gauge-bar rect"><div class="gauge-fill" style="width: 50%"></div></div>
                    </div>
                    <div class="item-info">
                      <strong class="item-title">
                        미국 <span>AI테크</span> 집중 투자하며 월배당까지 추구! 미국 <span>AI테크</span> TOP10커버드콜 ETF
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb">
                      <img src="./assets/images/video/img_thumb_02.png" alt="" />
                      <div class="gauge-bar rect"><div class="gauge-fill" style="width: 10%"></div></div>
                    </div>
                    <div class="item-info">
                      <strong class="item-title">
                        <span>AI</span> 시대 투자, 이제는 선택이 아닌 필수, ACE 미국 <span>AI테크</span>핵심산업액티
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_03.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">
                        빅<span>테크</span>는 고졸자를 뽑는다, <span>AI</span>가 무너뜨린 학벌주의하라
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_04.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">
                        아마존부터 오픈<span>AI</span>까지... 글로벌 빅<span>테크</span>들이 한국에 <span>AI</span> 데이터센터 짓는 이유
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_01.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title"><span>AI</span> 학벌파괴, 이걸 눈치챈 사람이 큰 돌을 벌겁니다.</strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_02.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">
                        <span>AI</span> 시대 ‘조직’은 망한다. 가벼운 ‘개인’만 살아남을 것
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_03.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">
                        아는 자만이 살아남는다. 초압축 <span>AI</span> 몰입 강연
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_04.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">
                        격변의 <span>AI</span> 시대, 증폭되는 불평등
                      </strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
              </ul>
            </section>

            <!-- 인사이트 섹션 -->
            <section class="content-section" data-section="insight">
              <div class="section-header">
                <h3 class="section-title">인사이트 <span class="section-count">3</span></h3>
                <div class="list-options">
                  <div class="select-wrap">
                    <select class="select-sort" title="정렬">
                    <option>조회수</option>
                    <option selected>업데이트</option>
                    <option>내가본컨텐츠</option>
                    <option>안본컨텐츠</option>
                    </select>
                  </div>
                </div>
              </div>
              <ul class="video-grid">
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_01.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title"><span>AI</span> 학벌파괴, 이걸 눈치챈 사람이 큰 돌을 벌겁니다.</strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like" title="좋아요"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_02.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title"><span>AI</span> 시대 ‘조직’은 망한다. 가벼운 ‘개인’만 살아남을 것</strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_03.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">아는 자만이 살아남는다. 초압축 <span>AI</span> 몰입 강연</strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
                <li class="video-item">
                  <a href="#" class="card-link">
                    <button type="button" class="btn-like on" title="좋아요 취소"><i class="ico-like"></i></button>
                    <div class="item-thumb"><img src="./assets/images/video/img_thumb_03.png" alt="" /></div>
                    <div class="item-info">
                      <strong class="item-title">격변의 <span>AI</span> 시대, 증폭되는 불평등</strong>
                      <span class="item-meta">웰니스 협업</span>
                    </div>
                  </a>
                </li>
              </ul>
            </section>
          </div>
        </div>
      </div>
      <!-- // container -->
    </div>

    <script>
      // 상단 라운드 유지 - 페이지 로드 즉시 실행 (다른 스크립트보다 먼저)
      (function() {
        const container = document.querySelector('.search-result .container');
        if (container) {
          const targetClipPath = 'inset(0 0 0 0 round 30px 30px 0 0)';
          
          // 즉시 clip-path 설정
          container.style.clipPath = targetClipPath;
          
          // 지속적으로 clip-path 유지
          function maintainRoundCorners() {
            const currentClipPath = container.style.clipPath || '';
            if (currentClipPath !== targetClipPath && !currentClipPath.includes('30px')) {
              container.style.clipPath = targetClipPath;
            }
            requestAnimationFrame(maintainRoundCorners);
          }
          
          // 스크롤 이벤트로 clip-path 고정
          container.addEventListener('scroll', function() {
            this.style.clipPath = targetClipPath;
          }, { passive: true, capture: true });
          
          // MutationObserver로 style 변경 감지
          const observer = new MutationObserver(function() {
            if (container.style.clipPath !== targetClipPath) {
              container.style.clipPath = targetClipPath;
            }
          });
          
          observer.observe(container, {
            attributes: true,
            attributeFilter: ['style'],
            attributeOldValue: true
          });
          
          // requestAnimationFrame 시작
          maintainRoundCorners();
        }
      })();

      // 검색어를 헤더 검색창에 표시
      document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.querySelector('.input-group input[type="text"]');
        const clearBtn = document.querySelector('.btn-clear');
        
        if (searchInput) {
          // 검색어 
          searchInput.value = 'AI 테크';
          // 검색어가 있을 때 X 버튼 표시
          if (clearBtn) {
            clearBtn.style.display = 'block';
          }
        }
        
        // X 버튼 클릭 시 검색어 지우기
        if (clearBtn) {
          clearBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            if (searchInput) {
              searchInput.value = '';
              clearBtn.style.display = 'none';
            }
          });
        }
        
        // 검색어 입력 시 X 버튼 표시/숨김
        if (searchInput) {
          searchInput.addEventListener('input', function() {
            if (this.value.trim() !== '') {
              if (clearBtn) clearBtn.style.display = 'block';
            } else {
              if (clearBtn) clearBtn.style.display = 'none';
            }
          });
        }

        // 좋아요 버튼 토글
        document.querySelectorAll('.search-result .btn-like').forEach(btn => {
          btn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.toggle('on');
            this.setAttribute('title', this.classList.contains('on') ? '좋아요 취소' : '좋아요');
          });
        });

        // 필터 탭 클릭 이벤트
        const filterTabs = document.querySelectorAll('.filter-tab');
        filterTabs.forEach(tab => {
          tab.addEventListener('click', function() {
            filterTabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            
            const filter = this.dataset.filter;
            const sections = document.querySelectorAll('.content-section');
            
            if (filter === 'all') {
              sections.forEach(section => section.style.display = 'block');
            } else {
              sections.forEach(section => {
                if (section.dataset.section === filter) {
                  section.style.display = 'block';
                } else {
                  section.style.display = 'none';
                }
              });
            }
          });
        });
      });
    </script>
  </body>
</html>