<!-- 비디오 모달 템플릿 -->
<div class="modal video">
  <div class="modal-content">
    <div class="modal-body">
      <div class="video-contents">
        <div class="video-box">
          <iframe
            id="videoFrame"
            width="100%"
            height="100%"
            src=""
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          >
          </iframe>
        </div>
        <div class="video-info">
          <div class="tit-box">
            <div class="meta">
              <span>인사이트</span>
              <em>경제와사회</em>
            </div>
            <h3>회계를 조금이라도 이해하면 인생이 달라지는 이유</h3>
          </div>
          <div class="desc">
            메타버스 시대가 열리며 우리의 삶과 정체성이 디지털 중심으로 재편되고
            있습니다.<br />
            이 변화는 새로운 기회와 동시에 사회적·윤리적 과제도 함께 가져옵니다.
          </div>
        </div>
      </div>
      <div class="video-side">
        <div class="video-header">
          <h5 class="tit">추천강의</h5>
          <span class="badge">소통</span>
          <span class="close">&times;</span>
        </div>
        <div class="video-list">@@include("_modal/_video/video-list.html")</div>

        <div class="comment-wrap">
          @@include("_modal/_comment/comment-list.html")
          @@include("_modal/_comment/comment-box.html")
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // 즉시 실행
  setTimeout(function () {
    const videoSide = document.querySelector(".modal.video .video-side");
    const videoHeader = document.querySelector(".modal.video .video-header");
    const videoList = document.querySelector(".modal.video .video-list");
    const commentWrap = document.querySelector(".modal.video .comment-wrap");
    console.log("ioi");
    if (videoSide && videoHeader && videoList && commentWrap) {
      const totalHeight = videoSide.clientHeight;
      const headerHeight = videoHeader.offsetHeight;
      const commentHeight = commentWrap.offsetHeight;
      const availableHeight = totalHeight - headerHeight - commentHeight - 20;
      const listContentHeight = videoList.scrollHeight;
      const listHeight = Math.min(listContentHeight, availableHeight);

      videoList.style.height = listHeight + "px";
      videoList.style.overflowY =
        listContentHeight > availableHeight ? "auto" : "hidden";
    }
  }, 100);
</script>
