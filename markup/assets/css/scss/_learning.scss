@charset "UTF-8";

@use "base" as *;

.learning,
.onboarding {
  .page-title {
    padding-top: 74px;
    text-align: center;
    p {
      font-size: 40px;
      font-weight: 400;
      &.fw-b {
        font-weight: 700;
      }
      em {
        font-weight: 700;
        color: var(--text-title-accent);
      }
      small {
        font-size: 32px;
        font-weight: 400;
      }
    }
    h3 {
      font-size: 32px;
      font-weight: 300;
      span {
        font-weight: 400;
      }
      em {
        font-weight: 500;
      }
    }
  }
}

.onboarding {
  .container {
    background:
      radial-gradient(
        93.89% 93.89% at 49.32% 6.11%,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.11) 86.06%,
        rgba(134, 114, 77, 0.2) 88.94%
      ),
      linear-gradient(180deg, #f9f6f0 0%, #e6ddcc 100%);

    box-shadow: 0 -2px 3px 0 rgba(0, 0, 0, 0.5);
  }

  .puzzle {
    &-wrap {
      position: relative;
      width: 100%;
      height: calc(var(--window-inner-height) - 64px);
      padding: 0 32px;
      overflow: hidden;
      @include flex(column, center, flex-start);
    }
    &-area {
      position: relative;
      width: 100%;
      flex-grow: 1;
      @include flex(row, center, center);
    }
    &-board {
      position: relative;
      width: 90%;
      margin-top: -4%;
      svg {
        width: 100%;
        height: auto;
        display: block;
        transform: perspective(794px) rotateX(6deg);
        transform-origin: bottom;
        text {
        }
      }

      .img-box {
        position: absolute;
        z-index: 1;
        pointer-events: none;

        &.family {
          width: 14.07089%;
          left: 0.75187%;
          top: 5.03778%;
        }

        &.hanmac {
          width: 13.4264%;
          top: 3.77833%;
          right: 2.68528%;
        }
        &.value {
          width: 9.23737%;
          left: -1.61117%;
          bottom: -4.87804%;
        }
        &.company {
          width: 12.88936%;
          right: -2.68528%;
          bottom: -8.07926%;
        }
      }
      .tit-box {
        position: absolute;
        font-size: 1.25vw; /* 24px */
        font-weight: 700;
        z-index: 1;
        &.family {
          color: #7ed29b;
          left: 8.2706%;
          top: 31.1083%;
        }

        &.hanmac {
          color: #ffccca;
          top: 31.1083%;
          right: 6.44468%;
          opacity: 0.45;
        }
        &.value {
          color: #87a7d6;
          left: 8.05585%;
          bottom: 10.51829%;
        }
        &.company {
          color: #b49a65;
          right: 8.05585%;
          bottom: 15.1133%;
        }
      }
    }

    &-piece {
      &-group {
        cursor: pointer;
        &:hover {
          .piece-overlay-hover {
            fill-opacity: 0.3;
          }
        }
        &.completed {
          .piece-overlay-base {
            fill: white;
            fill-opacity: 0.6;
          }
        }
        &:not(.completed) {
          &[data-piece="1"],
          &[data-piece="6"] {
            .piece-overlay-base {
              fill: #1d375d;
              fill-opacity: 0.2;
            }
          }

          &[data-piece="2"],
          &[data-piece="3"],
          &[data-piece="4"],
          &[data-piece="5"] {
            .piece-overlay-base {
              fill: #662a0d;
              fill-opacity: 0.2;
            }
          }

          &[data-piece="7"],
          &[data-piece="8"] {
            .piece-overlay-base {
              fill: #5b4822;
              fill-opacity: 0.2;
            }
          }

          &[data-piece="9"],
          &[data-piece="10"] {
            .piece-overlay-base {
              fill: #2a5338;
              fill-opacity: 0.2;
            }
          }
        }
      }
      &-overlay {
        &-base {
          fill: white;
          fill-opacity: 0;
          transition: all 0.3s ease;
        }
        &-hover {
          fill: black;
          fill-opacity: 0;
          transition: all 0.3s ease;
          pointer-events: none;
        }
      }
    }
  }
}

.completion {
  &-animation {
    &-container {
      svg {
        transform: perspective(794px) rotateX(6deg);
        transform-origin: bottom;
      }
    }
  }
}

.learning {
  &-wrap {
    position: relative;
    width: 100%;
    height: calc(var(--window-inner-height) - 64px);
    padding: 0 32px;
    overflow: hidden;
    @include flex(column, center, flex-start);
  }
  &-area {
    position: relative;
    width: 100%;
    flex-grow: 1;
    @include flex();
  }
  &-gauge {
    text-align: center;
    width: 82.5%;
    margin: auto;
    translate: 4% 0;
    svg {
      width: 100%;
      height: auto;
    }
  }
  .start-line {
    position: absolute;
    bottom: 0;
    left: -10px;
  }
  #markers-container {
    translate: none;
  }
  .marker {
    position: absolute;
    cursor: pointer;
    &[data-type="chapter"] {
      width: 2.4676%;
    }
    &[data-type="normal"] {
      width: 2.3442%;
    }
    &:nth-child(1) {
    }
  }
}
