@charset "UTF-8";

@use "sass:map";
@use "base" as *;
@forward "_guide";
// =======================================
// Variables
// =======================================
$main-height: calc(var(--window-inner-height) - 64px);
$header-height: 64px;

// Note: Colors are now managed via CSS variables in _root.scss

// Sizes
$circle-sizes: (
  1: clamp(1372px, 71.45833vw, 71.45833vw),
  2: clamp(1066px, 55.5208vw, 55.5208vw),
  3: clamp(794px, 41.3541vw, 41.3541vw),
  4: clamp(470px, 24.4791vw, 24.4791vw),
);

$circle-opacities: (
  1: 1,
  2: 0.7,
  3: 0.6,
  4: 0.5,
);

// SVG Arrow URLs
$svg-arrow-prev-default: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M94.6499 3C88.3166 26.9504 62.8499 78.281 11.6499 92C39.3166 99.3333 94.6499 127.5 94.6499 181.5' stroke='url(%23paint0_linear_1337_60932)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_60932' x1='94.6499' y1='92.25' x2='11.6499' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23DD842F'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
$svg-arrow-prev-disabled: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M94.6499 3C88.3166 26.9504 62.8499 78.281 11.6499 92C39.3166 99.3333 94.6499 127.5 94.6499 181.5' stroke='url(%23paint0_linear_1337_60932)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_60932' x1='94.6499' y1='92.25' x2='11.6499' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23EFE7D7'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
$svg-arrow-prev-hover: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M94.6499 3C88.3166 26.9504 62.8499 78.281 11.6499 92C39.3166 99.3333 94.6499 127.5 94.6499 181.5' stroke='url(%23paint0_linear_1337_60932)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_60932' x1='94.6499' y1='92.25' x2='11.6499' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23D34D00'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
$svg-arrow-next-default: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M3.00098 3C9.33431 26.9504 34.801 78.281 86.001 92C58.3343 99.3333 3.00098 127.5 3.00098 181.5' stroke='url(%23paint0_linear_1337_61160)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_61160' x1='3.00098' y1='92.25' x2='86.001' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23DD842F'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
$svg-arrow-next-disabled: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M3.00098 3C9.33431 26.9504 34.801 78.281 86.001 92C58.3343 99.3333 3.00098 127.5 3.00098 181.5' stroke='url(%23paint0_linear_1337_61162)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_61162' x1='3.00098' y1='92.25' x2='86.001' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23EFE7D7'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");
$svg-arrow-next-hover: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='98' height='185' viewBox='0 0 98 185' fill='none'%3E%3Cpath d='M3.00098 3C9.33431 26.9504 34.801 78.281 86.001 92C58.3343 99.3333 3.00098 127.5 3.00098 181.5' stroke='url(%23paint0_linear_1337_61162)' stroke-width='6' stroke-linecap='round'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_1337_61162' x1='3.00098' y1='92.25' x2='86.001' y2='92.25' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23CBAF94' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23D34D00'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");

// =======================================
// Mixins
// =======================================
@mixin center-absolute {
  position: absolute;
  top: 50%;
  left: 50%;
  translate: -50% -50%;
}

@mixin circle-mask {
  mask:
    linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    ),
    linear-gradient(
      180deg,
      #d9d9d9 0%,
      rgba(166, 166, 166, 0.08) 40%,
      rgba(140, 140, 140, 0.08) 60%,
      #737373 100%
    );
  mask-composite: intersect;
  -webkit-mask:
    linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    ),
    linear-gradient(
      180deg,
      #d9d9d9 0%,
      rgba(166, 166, 166, 0.08) 40%,
      rgba(140, 140, 140, 0.08) 60%,
      #737373 100%
    );
  -webkit-mask-composite: source-in;
}

@mixin arrow-button-base {
  position: absolute;
  width: 84px;
  height: 180px;
  top: 50%;
  translate: 0 -50%;
  @include textBlind();
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
}

@mixin arrow-button-hover($property: left) {
  &:not(.disabled) {
    &:hover {
      #{$property}: 30px;
    }
  }
}

// =======================================
// Main Styles
// =======================================
.main {
  .container {
    position: relative;
    height: $main-height;
    overflow: hidden;

    .bg-circle {
      @include center-absolute;
      width: 100%;
      margin: auto;
      height: $main-height;
      @include circle-mask;
      @include flex();
      overflow: hidden;

      &::before {
        @include pseudo(block, absolute, " ");
        top: 50%;
        width: 100vw;
        height: 67.22222vh;
        background: linear-gradient(
          180deg,
          var(--bg-gradient-start) 0%,
          var(--bg-gradient-end) 23.56%,
          var(--bg-gradient-end) 66.83%,
          var(--bg-gradient-start) 100%
        );
        translate: 0 -50%;
        opacity: 0.67;
      }

      ul {
        position: relative;
        width: map.get($circle-sizes, 1);
        aspect-ratio: 1 / 1;

        li {
          @include center-absolute;
          aspect-ratio: 1 / 1;
          border-radius: 50%;
          border: 1px solid var(--bg-circle-border);
          background-blend-mode: multiply, normal;
          background:
            linear-gradient(0deg, var(--bg-circle-start) 0%, var(--bg-circle-start) 100%),
            radial-gradient(
              50% 50% at 50% 50%,
              rgba(167, 121, 15, 0) 94.72%,
              var(--bg-circle-end) 100%
            );

          &::before,
          &::after {
            @include pseudo(block, absolute, " ");
            border-radius: 50%;
            aspect-ratio: 1 / 1;
            top: 50%;
          }

          @each $index, $size in $circle-sizes {
            &:nth-child(#{$index}) {
              width: $size;
              opacity: map.get($circle-opacities, $index);

              @if $index == 1 {
                transform: rotate(30deg);

                &::before {
                  width: 12px;
                  height: 12px;
                  background: radial-gradient(
                    50% 50% at 50% 50%,
                    var(--bg-circle-dot) 60%,
                    var(--bg-circle-dot-hover) 100%
                  );
                  stroke-width: 1px;
                  stroke: var(--bg-circle-dot-stroke);
                  left: -6px;
                  opacity: 0.6;
                }

                &::after {
                  width: 14px;
                  height: 14px;
                }
              }
            }
          }
        }
      }
    }
  }

  &-contents {
    width: 100%;
    height: $main-height;
    @include flex(column);

    .text-box {
      text-align: center;
      z-index: 1;

      span {
        color: var(--text-main-primary);
        font-size: 32px;

        em {
          font-weight: 700;
        }
      }

      p {
        color: var(--text-main-primary);
        font-size: 38px;

        em {
          color: var(--text-main-secondary);
          font-weight: 700;
        }
      }
    }

    .keyword {
      &-area {
        padding: 8px 12px;
        margin: 10px auto 8px auto;
        text-align: center;
        gap: 12px;
        width: max-content;
       
        @include flex(column, center, center);

        button {
          font-size: 13px;
          font-weight: 700;
          color: var(--text-main-primary);
          opacity: 0.7;

          .ico-setting {
            display: inline-block;
            width: 14px;
            height: 14px;
            @include bgImg("../images/ico/ico_setting.svg", contain, center);
          }
        }
      }
    }
  }

  .video {
    &-wrap {
      position: absolute;
      width: 100%;
      height: $main-height;

      .btn {
        &-prev,
        &-next {
          @include arrow-button-base;
        }

        &-prev {
          left: 40px;
          background-image: $svg-arrow-prev-default;
          @include transition(left, 0.2s, linear);
          @include arrow-button-hover(left);

          &.disabled {
            background-image: $svg-arrow-prev-disabled;
          }

          &:not(.disabled):hover {
            background-image: $svg-arrow-prev-hover;
          }
        }

        &-next {
          right: 40px;
          background-image: $svg-arrow-next-default;
          @include transition(right, 0.2s, linear);
          @include arrow-button-hover(right);

          &.disabled {
            background-image: $svg-arrow-next-disabled;
          }

          &:not(.disabled):hover {
            background-image: $svg-arrow-next-hover;
          }
        }
      }

      .pagination {
        position: absolute;
        left: 50%;
        bottom: 20px;
        transform: translateX(-50%);
        font-size: 20px;
        color: var(--shadow-pagination);
        font-weight: 400;

        .current {
          font-size: 24px;
          font-weight: 700;
        }
      }
    }

  }

  .my-learning {
    @include center-absolute;
    width: 796px;
    translate: -50% -100%;
  }

  .learning {
    &-area {
      @include center-absolute;
      width: clamp(932px, 48.5416vw, 48.5416vw);
      padding-top: 0;
      background: none;

      &::before,
      &::after {
        @include pseudo(block, absolute, " ");
        width: 158px;
        height: 1px;
        bottom: 48.5%;
      }

      &::before {
        left: 7.2%;
        background: linear-gradient(90deg, var(--bg-learning-line-color) 0%, rgba(237, 186, 138, 0) 100%);
      }

      &::after {
        right: 7.2%;
        background: linear-gradient(90deg, rgba(237, 186, 138, 0) 11.59%, var(--bg-learning-line-color) 100%);
      }
    }
  }
}

// =======================================
// Modal Styles
// =======================================
.modal {
  &.keyword {
    background-color: rgba(0, 0, 0, 0);

    .modal {
      &-header {
        color: var(--bg-modal-header);
        font-size: 14px;
        font-weight: 700;

        .ico-check {
          display: inline-block;
          margin-left: 8px;
          width: 8px;
          height: 8px;
          @include bgImg("../images/ico/ico_check.svg", contain, center);
        }
      }

      &-content {
        width: 640px;
        min-height: auto;
        padding: 20px 26px;
        gap: 16px;
        @include flex(column, center, center);
        background: rgba(255, 255, 255, 0.98);
        border: none;
        box-shadow: 0 0 6px 0 var(--shadow-modal);
        transform: translate(-50%, -10px);

        .keyword-list {
          max-width: 100%;
        }
      }
    }
  }
}
